(this.webpackJsonpnewsie=this.webpackJsonpnewsie||[]).push([[0],{60:function(e,t,a){e.exports=a(90)},65:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),c=a.n(l),o=a(12),i=a(13),s=a(17),u=a(15),h=(a(65),a(66),a(95)),m=a(98),d=a(99),p=a(97),g=a(96),v=a(53),f=a(52),y=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleSearchInput=function(e){n.setState({searchText:e.target.value})},n.handleButtonClick=function(){n.props.customSearch(n.state.searchText)},n.submitHandler=function(e){e.preventDefault(),n.handleButtonClick()},n.handleSelectCategory=function(e){n.props.category(e.target.getAttribute("value")),window.scrollTo(0,0)},n.handleNavEverything=function(e){n.props.everything(e.target.getAttribute("value")),window.scrollTo(0,0)},n.state={searchText:""},n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(m.a,{collapseOnSelect:!0,fixed:"top",bg:"light",expand:"lg"},r.a.createElement(m.a.Brand,{href:"#home"},"Newsie"),r.a.createElement(m.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(m.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(d.a,{className:"mr-auto"},r.a.createElement(d.a.Link,{onClick:this.handleNavEverything,href:"#everything",value:"everything"},"Top Headlines"),r.a.createElement(p.a,{title:"Category",id:"basic-nav-dropdown"},r.a.createElement(p.a.Item,{onClick:this.handleSelectCategory,href:"#business",value:"business"},"Business"),r.a.createElement(p.a.Item,{onClick:this.handleSelectCategory,href:"#entertainment",value:"entertainment"},"Entertainment"),r.a.createElement(p.a.Item,{onClick:this.handleSelectCategory,href:"#general",value:"general"},"General"),r.a.createElement(p.a.Item,{onClick:this.handleSelectCategory,href:"#health",value:"health"},"Health"),r.a.createElement(p.a.Item,{onClick:this.handleSelectCategory,href:"#science",value:"science"},"Science"),r.a.createElement(p.a.Item,{onClick:this.handleSelectCategory,href:"#sports",value:"sports"},"Sports"),r.a.createElement(p.a.Item,{onClick:this.handleSelectCategory,href:"#technology",value:"technology"},"Technology"))),r.a.createElement(g.a,{inline:!0,onSubmit:this.submitHandler},r.a.createElement(v.a,{onChange:this.handleSearchInput,value:this.state.searchText,type:"search",placeholder:"Search",className:"mr-sm-2",id:"search-input"}),r.a.createElement(f.a,{id:"search-button",onClick:this.handleButtonClick,variant:"outline-success"},"Search")))))}}]),a}(r.a.Component),b=a(57),E=a(30),w=a(54),S=a.n(w),C=a(100),k=a(55),O=a.n(k),j=function(e){var t,a,n=e.item;t=n.description&&n.description.length>100?"".concat(n.description.substring(0,100)," ..."):n.description,a=n.title&&n.title.length>75?"".concat(n.title.substring(0,75)," ..."):n.title;var l=new Date(n.publishedAt);return r.a.createElement("a",{href:n.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(C.a,null,r.a.createElement(C.a.Img,{variant:"top",src:n.urlToImage,alt:a}),r.a.createElement(C.a.Body,null,r.a.createElement(C.a.Title,null,a),r.a.createElement(C.a.Text,null,t),r.a.createElement(C.a.Text,null,r.a.createElement(O.a,{format:"YYYY-MM-DD"},l)))))},x=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getNews=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;n.state.page<=4&&!n.state.allResults&&(n.setState({loading:!0}),S.a.get(encodeURI("https://newsapi.org/v2/".concat(n.props.url.type).concat(n.props.url.query,"&page=").concat(e)),{headers:{"x-api-key":"3e018690ee5f430da3e46a329a591eb1"}}).then((function(e){e.data.articles.length?n.setState({news:n.state.news.concat(Object(b.a)(e.data.articles))}):n.setState({allResults:!0}),n.setState({loading:!1})})).catch((function(e){return console.log(e)})))},n.componentDidMount=function(){n.getNews();n.observer=new IntersectionObserver(n.handleObserver.bind(Object(E.a)(n)),{root:null,rootMargin:"0px",threshold:1}),n.observer.observe(n.loadingRef)},n.renderArticles=function(){return n.state.news.map((function(e,t){return r.a.createElement(j,{key:t,item:e})}))},n.state={news:[],loading:!1,page:1,prevY:0,allResults:!1},n}return Object(i.a)(a,[{key:"handleObserver",value:function(e,t){var a=this,n=e[0].boundingClientRect.y;this.state.prevY>n&&(t.unobserve(this.loadingRef),this.getNews(this.state.page+1),this.setState({page:this.state.page+1},(function(){t.observe(a.loadingRef)}))),this.setState({prevY:n})}},{key:"componentDidUpdate",value:function(e,t){var a=this;e.url!==this.props.url&&this.setState({page:1,news:[],allResults:!1,prevY:0},(function(){a.getNews()}))}},{key:"render",value:function(){var e=this,t={height:"100px",textAlign:"center",margin:"20px auto",display:this.state.loading?"block":"none",fontSize:"2em"};return r.a.createElement("div",{className:"flex-container"},r.a.createElement("div",{className:"d-flex flex-wrap align-items-center justify-content-center flex-news"},this.renderArticles()),r.a.createElement("div",{ref:function(t){return e.loadingRef=t}},r.a.createElement("span",{style:t},"Loading...")))}}]),a}(r.a.Component),I=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(x,{url:this.props.url})}}]),a}(r.a.Component),N=function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"copyrightLogo"},r.a.createElement("p",null,r.a.createElement("a",{href:"https://newsapi.org/",target:"_blank",rel:"noopener noreferrer"},"powered by NewsAPI.org"))))},T=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleCustomSearch=function(e){n.setState({url:{type:"everything",query:"?q=".concat(e)}})},n.handleCategory=function(e){n.setState({url:{type:"top-headlines",query:"?category=".concat(e,"&country=us")}})},n.handleEverything=function(){n.setState({url:{type:"top-headlines",query:"?country=us"}})},n.state={url:{type:"top-headlines",query:"?country=us"}},n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(y,{customSearch:this.handleCustomSearch,category:this.handleCategory,everything:this.handleEverything}),r.a.createElement(I,{url:this.state.url}),r.a.createElement(N,null))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[60,1,2]]]);
//# sourceMappingURL=main.d25fe22c.chunk.js.map